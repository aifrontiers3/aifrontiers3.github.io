<!-- page--><!DOCTYPE html><html prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Understanding AutoML and Neural Architecture Search · AI Frontiers Conference</title><meta name="description" content="Understanding AutoML and Neural Architecture Search - Impact Deep LLC"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/vendor/slickNav/slicknav.css"><link rel="stylesheet" href="/vendor/slick/slick.css"><link rel="stylesheet" href="/vendor/jquery-modal/jquery.modal.css" type="text/css" media="screen"><link rel="stylesheet" href="/css/main.css?v=6.4"><script type="text/javascript" src="/vendor/jquery/jquery.min.js"></script></head><body class="post"><div class="wrap"><header id="header"><div class="logo-group"><a class="logo-link" href="/"><img src="/images/logo-horizontal.png" alt="AI Frontiers conference | AI Conference"></a><span class="conf-date">November 9-11, 2018</span></div><div class="header-right"><div class="navigation"><ul class="nav nav-main nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/#topics" target="_self">Topics</a></li><li class="nav-list-item"><a class="nav-list-link" href="/#speakers" target="_self">Speakers</a></li><li class="nav-list-item"><a class="nav-list-link" href="/#schedule" target="_self">Schedule</a></li><li class="nav-list-item"><a class="nav-list-link" href="/blog" target="_self">Blog</a></li><li class="nav-list-item"><a class="nav-list-link" href="/#spnrs" target="_self">Sponsors</a></li><li class="nav-list-item"><a class="nav-list-link" href="/jobs" target="_self">Jobs</a></li><li class="nav-list-item"><a class="nav-list-link" href="/#venue" target="_self">Hotel</a></li><li class="nav-list-item"><a class="nav-list-link" href="/#venue" target="_self">Venue</a></li></ul><ul class="nav nav-sub nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/past-conferences" target="_self">Past Conferences</a></li><li class="nav-list-item"><a class="nav-list-link" href="/startup-demo" target="_self">Startups</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self"><span style='color: #BABBC2'>About</span></a></li><li class="nav-list-item"><a class="nav-list-link" href="/#contact" target="_self"><span style='color: #BABBC2'>Contact</span></a></li></ul><ul class="nav nav-mobile nav-list" style="display:none;"><div class="main-items"><li class="nav-list-item main-nav-list-item"><a class="nav-list-link" href="/#topics" target="_self">Topics</a></li><li class="nav-list-item main-nav-list-item"><a class="nav-list-link" href="/#speakers" target="_self">Speakers</a></li><li class="nav-list-item main-nav-list-item"><a class="nav-list-link" href="/#schedule" target="_self">Schedule</a></li><li class="nav-list-item main-nav-list-item"><a class="nav-list-link" href="/blog" target="_self">Blog</a></li><li class="nav-list-item main-nav-list-item"><a class="nav-list-link" href="/#spnrs" target="_self">Sponsors</a></li><li class="nav-list-item main-nav-list-item"><a class="nav-list-link" href="/jobs" target="_self">Jobs</a></li><li class="nav-list-item main-nav-list-item"><a class="nav-list-link" href="/#venue" target="_self">Hotel</a></li><li class="nav-list-item main-nav-list-item"><a class="nav-list-link" href="/#venue" target="_self">Venue</a></li></div><div class="sub-items"><li class="nav-list-item sub-nav-list-item"><a class="nav-list-link" href="/past-conferences" target="_self">Past Conferences</a></li><li class="nav-list-item sub-nav-list-item"><a class="nav-list-link" href="/startup-demo" target="_self">Startups</a></li><li class="nav-list-item sub-nav-list-item"><a class="nav-list-link" href="/about" target="_self"><span style='color: #BABBC2'>About</span></a></li><li class="nav-list-item sub-nav-list-item"><a class="nav-list-link" href="/#contact" target="_self"><span style='color: #BABBC2'>Contact</span></a></li></div></ul></div><div class="social-bar"><a href="https://www.facebook.com/aifrontiersconference/" alt="facebook"><img class="social-icons" src="/images/socials/facebook.svg"></a><a href="https://twitter.com/AI_Frontiers" alt="Twitter"><img class="social-icons" src="/images/socials/twitter.svg"></a><a href="https://www.linkedin.com/company/17898981" alt="LinkedIn"><img class="social-icons" src="/images/socials/linkedin.svg"></a><a href="https://www.youtube.com/channel/UCdWI86GsaU1Bp1kRkm1UQ1Q" alt="Youtube"><img class="social-icons" src="/images/socials/youtube.svg"></a></div><a class="button button-effects buy-tickets" href="/register/">Register</a><!-- if type != 'tickets'--><!--     a.button.button-effects.buy-tickets(href="/tickets/")--><!--         != general["header-register-button-text"]--><!-- else--><!--     a.button.button-effects.buy-tickets(href="/register/")--><!--         != general["header-register-button-text"]--></div></header><main class="container"><article class="post"><article class="post-block"><div class="post-info">Sep 16, 2018</div><h1 class="post-title">Understanding AutoML and Neural Architecture Search</h1><div class="post-feature"><img src="/images/posts/automl-and-neural-architecture.jpg"></div><div class="post-content"><p>-by Junling Hu</p>
<p>The most exciting developments of AI in 2018 is AutoML. It automates machine learning process. In January this year, Google released AutoML Vision. Then in July Google launched AutoML for machine translation and natural language processing. Both packages have been used by companies such as Disney in practical applications.</p>
<p>Google’s AutoML is based on Neural Architecture Search (NAS), invented in the end of 2016 (and presented in ICLR 2017) by Quoc Le and his colleague at Google Brain. In this article I will review the historical context of AutoML and the essential ideas of NAS.</p>
<a id="more"></a>
<h3 id="Historical-context"><a href="#Historical-context" class="headerlink" title="Historical context"></a>Historical context</h3><p>In the last 6 years (since 2012), AI has taken the world by storm. The term <em>machine learning</em> has become an almost magic phrase, implying some process that can automatically solves problems that human cannot. Be it showing ads, making recommendation, or predicting a frauded transaction, machine learning has become the synonym to automation.</p>
<p>But in reality, machine learning process is still quite manual.</p>
<h4 id="The-manual-process-in-machine-Learning-Feature-Selection"><a href="#The-manual-process-in-machine-Learning-Feature-Selection" class="headerlink" title="The manual process in machine Learning: Feature Selection"></a><strong>The manual process in machine Learning: Feature Selection</strong></h4><p>In statistical (“classical”) machine learning (such as Decision tree, SVM, and Logistic Regression), we select inputs for making prediction. For example, in order to predict how like a person buys a bottle of coke, we use inputs such as a person’s age, gender, income, and so on. In this process, we have to decide on relevant “features” to use. We may miss some important features, for example, location of this person. Ideally we can add many features into the model. But they can degrade the performance of the machine learning model. Not all features are relevant. Even if a learning method can accommodate a large number of input features, it is still a manual process to create input “features”.</p>
<p>The job of a data scientist is coming up with good features by looking into data, doing experiments, or interviewing experts.</p>
<p>For many decades in the field of computer vision, researchers tried to come up with good features to summarize a picture: contrast, brightness, color histogram, etc. Yet, searching for good features are illusive. With human-crafted features (inputs), the accuracy of image recognition hovers around 70%, and speech recognition barely crosses 80% accuracy in normal cases. The same goes with many other tasks.</p>
<h4 id="Deep-Learning-Automating-Input-Selection"><a href="#Deep-Learning-Automating-Input-Selection" class="headerlink" title="Deep Learning: Automating Input Selection"></a><strong>Deep Learning: Automating Input Selection</strong></h4><p>The revolution of deep learning is removing one manual process: Feature selection. In image recognition, we feed the picture at the pixel level to the model, without worrying about what features are important. The “features” are captured in the hidden layers and in the connection strength. In machine translation, we feed the input sentence at word or even character level to the learning model, and it learns to spin out the right sequence of words in a different language.</p>
<p>Deep learning — the learning of deep neural networks — completely removes the need to construct “features” at the input level. For this reason, deep learning is universal and speeds up the model building process. After removing human in the loop, the accuracy of image recognition jumped from 72% to 83% in 2012 in the ImageNet competition, more than 10% absolute improvement in accuracy.</p>
<h4 id="The-manual-process-in-deep-learning-Deciding-on-the-architecture-of-a-neural-network"><a href="#The-manual-process-in-deep-learning-Deciding-on-the-architecture-of-a-neural-network" class="headerlink" title="The manual process in deep learning: Deciding on the architecture of a neural network"></a><strong>The manual process in deep learning: Deciding on the architecture of a neural network</strong></h4><p>Despite its power and versatility, deep learning still has its manual process. Let’s take a look where the manual process comes from. Here is the stylized picture of a neural network.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*OC7oNsdLbAXJ1UoOT5G6OA.jpeg" alt="img"></p>
<p>A neural network consists of neurons, layers, and activation functions. The connection strength among neurons are called weights, which are learned over time.</p>
<p><strong>Architecture of a Convolutional Neural Network</strong></p>
<p>A convolutional neural network consists of filters (for convolution operation), which determines the number of neurons in the next layer, and layers, and activation function.</p>
<p>A <strong>filter</strong> is a small square, such as 5x5. When applying this filter to the original image, we map a region of size 5x5 to a single point in the new image. Below is the picture to illustrate this:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*k4tm_AIZViXbUerqevtXGA.png" alt="img"></p>
<p>The original image has size 32x32, and our filter is 5x5. This maps a region of 5x5 in the first layer to a point in the next layer. There are total 5 filters (indicated by 5 dots in the second layer) :</p>
<p><strong>Stride</strong> is the steps the filter moves on the image. When stride=1x1, the filter moves to the right by 1 pixel, and lower by 1 pixel. When stride=2x1, the filter moves to the right by 2 pixels, and lower by 1 pixel.</p>
<p>For a 6x6 image, we apply a filter 3x3 and use stride=1x1, we will get a 4x4 image.</p>
<p>Therefore deep learning still has human in the loop: Deciding on the number of layers, the filter size, stride size and the activation function.</p>
<p><strong>The search for the best neural network architecture</strong></p>
<p>The evolution of deep learning field is corresponding to finding the best neural network architecture. In 2012, AlexNet has 8 layers, the winner of ImageNet competition in 2014 GoogleNet has 22 layers, and the winner in 2015 Resnet has 152 layers.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*UZK4B15sa7WZYLSlB1WbYA.jpeg" alt="img"></p>
<p>GoogleNet</p>
<p>More layers and more parameters come with huge computational cost and slow down of training. Imagine a 100-layer neural network with 100 neurons at each layer, the number of connections between all neurons is 100²x100, or 1 million. In fact, Resnet has 1.7 million parameters. In other words, training a neural network is very expensive and slow. If you are doing experiments to find out how to build the best neural networks, you wait for several days or even weeks to get the result from 1 neural network. Then you add layers or number of neurons (in 1 layer), then you run the training again, waiting for a few more days.</p>
<p>On the other hand, we want to achieve high accuracy. Does that mean we have to increase the number of layers beyond Resnet? How many layers should we aim for? How many neurons (or filters) should we have in each layer?</p>
<p>Answering these question is equivalent to searching for the best architecture of a neural network: Deciding on the right number of layers and number of neurons. Since it is impossible to search exhaustively all parameters or configurations, due to the high cost of computing, we need a much more intelligent way to find the best architecture.</p>
<h4 id="The-Basic-Ideas-of-Neural-Architecture-Search"><a href="#The-Basic-Ideas-of-Neural-Architecture-Search" class="headerlink" title="The Basic Ideas of Neural Architecture Search"></a><strong>The Basic Ideas of Neural Architecture Search</strong></h4><p>Imagine we have an agent (controller) who tries to find out the best architecture (configuration) of a neural network. A neural network architecture can be described in a few parameters: The number of layers, the number of nodes etc. For a convolutional neural network (CNN), this is the number of filters and filter size. The controller can choose the size of these parameters.</p>
<p><strong>1. Applying Reinforcement Learning to train the controller</strong></p>
<p>In reinforce learning, an agent takes an action, observes reward. If an action leads to better reward, the agent will take that action more often, while exploring new actions. After trying many possible actions, the agent will settle down to 1 action that leads to the highest reward.</p>
<p>The controller now has a set of “<strong>actions</strong>”: Choosing the size of these parameters. Given the controller’s choice (actions), a neural network is created (but weight not yet assigned). This network will be then trained in the training data to get its weight updated.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*5JNk5FknD-qUh7fgOp-3ug.jpeg" alt="img"></p>
<p>Once we make our choice, we have a specific network<a href="https://medium.com/aifrontiers/understand-automl-and-neural-architecture-search-4260a0942116#_ftn1" target="_blank" rel="noopener">[1]</a>. The performance of this network, measured in accuracy (on a test set or validation set), is our reward.</p>
<p>The goal is finding actions that lead to the maximal total reward when applying an action many times (or in different situations).</p>
<p><strong>2. Using Policy Gradient Method: An Online Reinforcement Learning method</strong></p>
<p>Traditional reinforcement leaning uses Q-value to track the performances of different actions. Q-value is the sum of expected reward when the agent takes the best actions. This requires trying a large number of actions and jumping through different reward outcomes. Thus the search is very slow. Instead, we can directly learn the impact of the action by observing the shift of current reward. This the idea behind policy gradient. The term “gradient” means moving along the steepest slope of the possible total reward.</p>
<p>When we use a neural network to learn the actions, we have what is called <em>policy gradient network</em>, or <em>policy network.</em> This is used by AlphaGo, thus receiving a lot of attention recently.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*pjOQEAlV24O-EA5eAMZ_rg.jpeg" alt="img"></p>
<p>A policy network assigns probability of each action. The network updates its weights based on the gradient of the change of expected reward. For example, if you have 4 actins to take, each has 0.25 probability, the action output will be [0.25, 0.25, 0.25, 0.25], with T times of sampling based on this action distribution, you receive some rewards. Then get the sum of these rewards, and then update the weights of neural network (policy) based on the gradient of these rewards.</p>
<p>I will skip the elaborate mathematics on deriving this formula, but the essence is each weight is updated based on the derivative of Log function on the total reward.</p>
<p><strong>The Controller is a policy network</strong></p>
<p>The controller itself is a policy network, generating a child network based on probabilities on each action. After receiving the reward, it updates internal weight. In essence, the reward is higher for child network that has higher accuracy, thus increasing its probability in the policy network (to be chosen next time).</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*iPs9te4rDRqHupDEKwRafQ.jpeg" alt="img"></p>
<p>The neural network in the controller is a <strong>recurrent neural network</strong>, allowing flexible number of layers of the child network to be generated.</p>
<p>So far I have given a very high-level summary of the Neural Architecture Search and its historical context. For specific implementation, please refer to the original paper.</p>
<p><a href="https://medium.com/aifrontiers/understand-automl-and-neural-architecture-search-4260a0942116#_ftnref1" target="_blank" rel="noopener">[1]</a> This is called “child network” in the paper. The term “child” is actually very accurate. The controller (parent) create a blank network with certain number of nodes and layers, but all the weights are not yet trained. This network is then trained in the training data to update its weight, so that it performs well in the validation data.</p>
<h4 id="References"><a href="#References" class="headerlink" title="References:"></a>References:</h4><p>Barret Zoph and Quoc Le. “Neural architecture search with reinforcement learning.” <em>arXiv preprint arXiv:1611.01578</em> (2016).</p>
<p>Quoc Le, Inventors of AutoML, is going to speak at <a href="http://aifrontiers.com/">AI Frontiers Conference </a>on November 9 in San Jose, California.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*1BvKPAdPNTVdjyZfWsnGhA.jpeg" alt="img"></p>
<p><a href="https://aifrontiers.com/">AI Frontiers Conference</a> brings together AI thought leaders to showcase cutting-edge research and products. This year, our speakers include: <strong>Ilya Sutskever</strong> (Founder of OpenAI), <strong>Jay Yagnik</strong> (VP of Google AI), <strong>Kai-Fu Lee</strong>(CEO of Sinovation), <strong>Mario Munich</strong> (SVP of iRobot), <strong>Quoc Le</strong> (Google Brain), <strong>Pieter Abbeel</strong> (Professor of UC Berkeley) and more.</p>
<p>Buy tickets at <a href="https://aifrontiers.com/">aifrontiers.com</a>. For question and media inquiry, please contact: <a href="mailto:info@aifrontiers.com">info@aifrontiers.com</a></p>
</div></article></article></main><footer><!-- include mixins/paginator--><!-- +post()--></footer></div><script type="text/javascript" src="/vendor/jquery/jquery.min.js"></script><!-- mobile check--><script type="text/javascript">window.mobilecheck = function() {
  var check = false;
  (function(a){
      if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;
    })(navigator.userAgent||navigator.vendor||window.opera);
  return check;
};
</script><!-- Global Site Tag (gtag.js) - Google Analytics--><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125089723-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments)};
gtag('js', new Date());
gtag('config', "UA-125089723-1");
var trackOutboundLink = (url) => {
  ga('send', 'event', 'outbound', 'click', url, {
      'transport': 'beacon',
      'hitCallback': () => {
        document.location = url;
    }
  });
};
</script><!-- script(type='text/javascript',src=url_for("vendor/jquery-modal/jquery.modal.js"))--><!-- script(type='text/javascript',src=url_for("vendor/slick/slick.min.js"))--><!-- SlickNav--><script type="text/javascript" src="/vendor/slickNav/jquery.slicknav.min.js"></script><script type="text/javascript">$(document).ready(function(){
    $('.nav-mobile').slicknav({
        label: "",
        appendTo: "#header"
    });
    //close menu on lost focus
    $('.slicknav_menu').focusout(function(event){
        $('.nav-mobile').slicknav('close'); //Here 'menu' is the id of ul.
    });
  });
</script><!-- vimeo--><script type="text/javascript" src="https://player.vimeo.com/api/player.js"></script><script type="text/javascript">if ($('body').hasClass('index')) {
    var bgPlayer = false;
    var fgPlayer = false;
    var fgPlayerOptions = {
       id: 227828879,
       autoplay: false,
       title: false,
       height: 500,
       loop: false
    };
    var bgPlayerOptions = {
       id: 227859594,
       autoplay: true,
       title: false,
       loop: true
    };
    if (window.mobilecheck()) {
       var fgPlayerOptions = {
           id: 227828879,
           autoplay: false,
           title: false,
           height: 220,
           loop: false
       };
    }
    else {
       if ($("#bgPlayer").length) {
          bgPlayer = new Vimeo.Player('bgPlayer', bgPlayerOptions);
          bgPlayer.setVolume(0);
          bgPlayer.ready().then(function() {
              bgPlayer.pause().then(bgPlayer.play());
          });
       }
    }
    // Watch video related scripts
    // $("#fgPlayer").on($.modal.BEFORE_OPEN, function(event, modal) {
    //    fgPlayer = new Vimeo.Player('fgPlayer', fgPlayerOptions);
    //    if (bgPlayer) bgPlayer.pause();
    // });
    // $("#fgPlayer").on($.modal.OPEN, function(event, modal) {
    //    if (!window.mobilecheck()) {if (fgPlayer) fgPlayer.play()};
    // });
    // $("#fgPlayer").on($.modal.BEFORE_CLOSE, function(event, modal) {
    //    if (bgPlayer) bgPlayer.play();
    // });
}
</script><script type="text/javascript">(function(){
    var s = document.getElementsByTagName("script")[0];
    var b = document.createElement("script");
    b.type = "text/javascript";b.async = true;
    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
    s.parentNode.insertBefore(b, s);
})();
</script><!-- script(type="text/javascript").--><!--     if (window.mobilecheck()) {--><!--         $(".day-buttons").hide();--><!--         $(".schedule > .day").css("display", "block");--><!--     } else {--><!--         $($(".schedule .day-button")[0]).addClass("day-button--active");--><!--         $(".schedule .day-button").click(function(){--><!--             var idx = $(".schedule .day-button").index(this) % 3;--><!--             $(".schedule div.day").css("display", "none");--><!--             $(".schedule .day-button").removeClass("day-button--active");--><!--             $($(".schedule .day-button")[idx]).addClass("day-button--active");--><!--             $($(".schedule > .day")[idx]).css("display", "block");--><!--             if ($(this).hasClass("back-to-top")) {--><!--                 window.location.hash = "#schedule";--><!--                 window.location.href = "#schedule";--><!--             }--><!--         });--><!--     }--><script type="text/javascript">$(".module-speakers .speakers .speaker, .module-speakers .moderators .speaker, .module-speakers .past-speakers .speaker").click(function(e) {
    $(this).toggleClass("speaker--active");
});
$(".module-schedule .schedule .speaker").click(function(e) {
    var name = $(this).children(".name").text();
    var urlizedName = name.toLowerCase().split(' ').join('-');
    $("#" + urlizedName).click();
});
$(document).keyup(function(e) {
    if (e.which == 27) {
        $(".speaker--active").toggleClass("speaker--active");
    }
});
</script><!-- merge Facebook pixel tracking here, and since we have one noscript for LinkedIn already, we need to merge that--><script type="text/javascript">!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window,document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1579692765420749'); 
fbq('track', 'PageView');

</script><noscript><img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=91636&amp;fmt=gif"><img height="1" width="1" src="https://www.facebook.com/tr?id=1579692765420749&amp;ev=PageView&amp;noscript=1"></noscript><script type="text/javascript">window.getDict = function() {
  var search = location.search.substring(1);
  return search?JSON.parse('{"' + search.replace(/&/g, '","').replace(/=/g,'":"') + '"}',
    function(key, value) { return key===""?value:decodeURIComponent(value) }):{}
}
</script><!-- Preserve URL parameter--><script type="text/javascript">function getUrlParams() {
    var params = [];
    if (window.location.href.indexOf('?') == -1) return [];

    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
    for (var i = 0; i < hashes.length; i++) {
        hash = hashes[i].split('=');
        params[hash[0]] = hash[1];
    }
    return params;
}

$( document ).ready(() => {
    var url_string = window.location.href;
    var params = getUrlParams();
    if (Object.keys(params).length != 0) {
        var paramsString = "?";
        var paramsArray = [];

        for (let field in params) {
            paramsArray.push(`${field}=${params[field]}`);
        }

        paramsString += paramsArray.join("&");

        for (var link of $('a')) {
            var $link = $(link);
            var href = $link.attr("href")
            if (href && href.substring(0, 4) != "tel:" && href.substring(0, 7) != "mailto:" && href.substring(0, 1) != "#") {
                var splits = href.split("#");
                if (splits.length == 1) {
                    $link.attr("href", splits[0] + paramsString);
                } else if (splits.length == 2) {
                    $link.attr("href", splits[0] + paramsString + "#" + splits[1]);
                }
            }
        }
    }
});
</script><!-- ========= Jumbotron Slider =========--><!-- script.--><!--     $(document).ready(function(){--><!--         $('.slider').slick({--><!--             autoplay: true,--><!--             autoplaySpeed: "#{general['slider-play-speed']}",--><!--             dots: true,--><!--             prevArrow: '<button type="button" class="slick-prev slick-arrow"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 41" enable-background="new 0 0 21 41"><polygon points="20.3,40.8 0,20.5 20.3,0.2 21,0.9 1.3,20.5 21,40.1 "></polygon></svg></button>',--><!--             nextArrow: '<button type="button" class="slick-next slick-arrow"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 41" enable-background="new 0 0 21 41"><polygon points="20.3,40.8 0,20.5 20.3,0.2 21,0.9 1.3,20.5 21,40.1 "></polygon></svg></button>'--><!--         });--><!--     });--><script type="text/javascript">(function ($) {
  $.fn.countdown = function(options){
    //global variables
    var vars = $.extend({}, $.fn.countdown.defaults, options),
        $counter = $(this),
        t = {days: 0, hours: 0, min: 0, sec: 0},
        // targetDate = new Date(vars.targetDate).getTime(),
        // secondsLeft;
        targetDate = new Date('nov 09, 2018').getTime(),
        secondsLeft;

    //private methods
    methods = {
      setup: function() {
        $.each(t, function(time, value){
          var currentSection = '<div class="segment"><div class="digits" id="'+time+'"><span>0</span><span>0</span></div><div class="label">'+time+'</div></div><span class="colon">:</div>';
          $counter.append(currentSection);
        });
      },
      updateTime: function(){
        var currentTime = new Date().getTime(),
            secondsLeft = (targetDate - currentTime) / 1000,
            secsIn = {days: 86400, hours: 3600, min: 60};
        if (secondsLeft < 0) {secondsLeft = 0;}
        $.each(t, function(timePeriod, value){
          t[timePeriod] = parseInt( (secondsLeft / secsIn[timePeriod]), 10);
          if (timePeriod !== 'sec'){
           secondsLeft = secondsLeft % secsIn[timePeriod];
          }
          else {
            t[timePeriod] = secondsLeft;
          }
        });
      },
      updateCounter: function() {
        $.each(t, function(period, value){
          var section = $counter.find('#'+period).children();
          digit = splitDigits(value);
          section.eq(0).html(digit[0]);
          section.eq(1).html(digit[1]);
        });
        function splitDigits(number) {
          var digits = [];
          digits[0] = Math.floor(number / 10);
          digits[1] = Math.floor(number % 10);
          return digits;
        }
      },
      tick: function () {
        if (secondsLeft < 1) {}
        else {
          methods.updateTime();
          methods.updateCounter();
          setTimeout(function() {methods.tick();}, 1000);
        }
      },

      init: function () {
        methods.setup();
        methods.updateTime();
        methods.updateCounter();
        methods.tick();
      },
    };

    //initiate countdown
    methods.init();
  };

  $.fn.countdown.defaults = {
    targetDate: 'nov 09 2018',
    labels: true
  };
}(jQuery));
// end of countdown plugin

// dom ready events (would usually be in separate js file)
$(document).ready(function() {
  // arbitrarially make a new date
  var newDate = new Date();
  newDate.setDate(45);
  $('.counter').countdown({targetDate: newDate});
});</script></body></html>